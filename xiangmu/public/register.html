<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>register</title>
    <script src="js/jquery-3.2.1.min.js"></script>
    <script type="text/javascript" src="js/jquery.min.js"></script>
    <script type="text/javascript" src="js/jquery.spinner.min.js"></script>
    <script type="text/javascript" src="js/main.js"></script>
    <script type="text/javascript" src="js/jquery.validate.min.js"></script>
    <link rel="stylesheet" type="text/css" href="css/bootstrap.css">
    <link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">
    <style type="text/css">
        #a {
            background: url(img/bg.jpg) no-repeat;
            background-size: 100%;
        }
        .form {
            background: rgba(255, 255, 255, 0.2);
            width: 400px;
            margin-top: 100px;
            margin-right: 300px;
            margin-bottom: auto;
            margin-left: auto;
        }
        .fa {
            display: inline-block;
            top: 10px;
            left: 6px;
            position: absolute;
            color: #ccc;
            }
    </style>
</head>
<body id="a">
<div class="container">
    <div class="form row">
        <form class="form-horizontal col-sm-offset-3 col-md-offset-3" id="register_form">
            <div class="col-sm-9 col-md-9">
                <div class="form-group">
                    <i class="fa fa-user fa-lg"></i>
                    <input type="text" id="userName" placeholder="用户名" class="form-control  required">
                </div>
                <div class="form-group">
                    <input type="text" id="passWord" placeholder="密码" class="form-control  required">
                </div>
                <div class="form-group">
                    <input type="text" id="userAge" placeholder="年龄" class="form-control required">
                </div>
                <div class="form-group">
                    <input type="text" id="userSex" placeholder="性别" class="form-control required">
                </div>
                <div class="form-group">
                    <input type="button" value="注册" id="btn" class="btn btn-success pull-right">
                    <input type="reset" name="Submit" value="重置" class="btn btn-success pull-right">
                </div>
            </div>
        </form>
    </div> 
</div>

    
    
    <script type="text/javascript">

        var btn = document.getElementById('btn');
        var userName = document.getElementById('userName');
        var passWord = document.getElementById('passWord');
        var userAge = document.getElementById('userAge');
        var userSex = document.getElementById('userSex');
        btn.onclick = function () {
            var arrJson ={
                userName:userName.value,
                passWord:passWord.value,
                userAge:userAge.value,
                userSex:userSex.value
            }
            $.ajax({
                url:'/register',
                type:'POST',
                data:arrJson,
                success:function (data) {
                    if(data.message.code == 100){
                        alert('注册成功');
                        //reset.click();
                        window.location = 'login.html'
                    }
                    else if (data.message.code == 103){
                        alert('账户已存在');
                   }
                    else{
                        alert('注册失败');
                    }
                },
                error:function () {
                    
                }
            })
        }
    </script>
</body>
</html>